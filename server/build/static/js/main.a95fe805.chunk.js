(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,a){e.exports=a(138)},138:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(11),o=a.n(c),i=a(181),s=a(184),u=a(185),m=a(139),d=a(89),p=a.n(d),f=a(93),h=a.n(f),E=a(92),v=a.n(E),b=a(91),g=a.n(b),y=a(10),j=a(97),x=a(67),O=Object(r.createContext)(),k=function(e){var t=Object(r.useState)(!0),a=Object(y.a)(t,2),n=a[0],c=a[1],o=Object(j.a)({palette:{primary:n?{light:"#7986cb",main:"#3f51b5",dark:"#303f9f"}:{main:x.a[500],light:x.a[200],dark:x.a[800]},type:n?"light":"dark"}});Object(r.useEffect)((function(){var e=(new Date).getHours();c(!(e>=19||e<=6))}),[]);return l.a.createElement(O.Provider,{value:{theme:o,handleTheme:function(){return c(!n)},lightMode:n}},e.children)},C=Object(i.a)((function(){return{root:{display:"flex",justifyContent:"center",width:"100%"}}})),w=function(){var e=C(),t=Object(r.useContext)(O),a=t.lightMode,n=t.handleTheme,c=[l.a.createElement(p.a,null),a?l.a.createElement(g.a,{fontSize:"large"}):l.a.createElement(v.a,{fontSize:"large"}),l.a.createElement(h.a,null)];return l.a.createElement(s.a,{className:e.root},c.map((function(e,t){return l.a.createElement(u.a,{key:t,style:{justifyContent:"center"}},l.a.createElement(m.a,{onClick:1===t?n:null},e))})))},T=a(16),D=a(6),S=a(17),_=a(72),z=a(206),F=a(191),W=a(193),H=a(194),A=a(196),G=a(197),I=a(208),P=a(203),U=a(189),B=a(195),J=a(190),L=a(94),M=a.n(L),V=a(95),N=a.n(V),$=a(205),q=a(186),K=a(187),Q=a(188),R=a(32),X=a.n(R),Y=a(52),Z=a(53),ee=a.n(Z),te=Object(r.createContext)(),ae=function(e){var t=Object(r.useState)([]),a=Object(y.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)({loading:!1,error:""}),i=Object(y.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)({open:!1,message:""}),d=Object(y.a)(m,2),p=d[0],f=d[1],h=function(){var e=Object(Y.a)(X.a.mark((function e(){var t,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(Object(S.a)({},s,{loading:!0})),e.next=4,ee.a.get("/api/tasks");case 4:t=e.sent,a=t.data,u({loading:!1,error:""}),c(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response),u({loading:!1,error:e.t0.response.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(Y.a)(X.a.mark((function e(t){var a,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(Object(S.a)({},s,{loading:!0})),e.next=4,ee.a.post("/api/tasks",t);case 4:a=e.sent,r=a.data,f({open:!0,message:"Task added Successfully!"}),u({loading:!1,error:""}),c([r].concat(Object(T.a)(n))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data),u({loading:!1,error:e.t0.response.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(Y.a)(X.a.mark((function e(t,a){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(Object(S.a)({},s,{loading:!0})),e.next=4,ee.a.put("/api/tasks/".concat(t),a);case 4:f({open:!0,message:"Task Updated Successfully!"}),u({loading:!1,error:""}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data),u({loading:!1,error:e.t0.response.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(Y.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.a.delete("/api/tasks/".concat(t));case 3:a=e.sent,n=a.data,f({open:!0,message:n.message}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return function(){var e=new Date,t=!0,a=!1,r=void 0;try{for(var l,c=n[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){var o=l.value;e.getDate()-new Date(o.expTime).getDate()>=1&&e.getHours()>=new Date(o.expTime).getHours()&&o.status&&b(o._id)}}catch(i){a=!0,r=i}finally{try{t||null==c.return||c.return()}finally{if(a)throw r}}}(),Object(r.useEffect)((function(){h()}),[]),l.a.createElement(te.Provider,{value:{tasks:n,state:s,addTask:E,feedback:p,setFeedback:f,handleTaskUpdate:function(e,t){var a=Object(T.a)(n),r=a.find((function(t){return t._id===e}));a[a.indexOf(r)]=t,v(e,t),u(Object(S.a)({},s,{error:""})),c(Object(T.a)(a))},handleDelete:function(e){b(e);var t=n.filter((function(t){return t._id!==e}));u(Object(S.a)({},s,{error:""})),c(Object(T.a)(t))},handleCompleted:function(e){var t=Object(T.a)(n),a=t.find((function(t){return t._id===e}));a.status=!a.status,v(e,a),u(Object(S.a)({},s,{error:""})),c(Object(T.a)(t))}}},e.children)},ne=function(e){var t=e.open,a=e.handleClose,n=e.task_id,c=Object(r.useContext)(te).handleDelete;return l.a.createElement($.a,{open:t,onClose:a},l.a.createElement(q.a,null,l.a.createElement(K.a,{component:"div"},l.a.createElement(_.a,{variant:"h6",component:"p",color:"textPrimary"},"Are you sure you want to delete this task?"))),l.a.createElement(Q.a,null,l.a.createElement(U.a,{onClick:a,color:"primary"},"Cancel"),l.a.createElement(U.a,{onClick:function(e){c(n),a()},variant:"contained",color:"primary",autoFocus:!0},"Confirm")))},re=a(66),le=a(14),ce=a(202),oe={position:"fixed",top:0,left:0,height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"inset 100vw 10px 10px 10px #3333",zIndex:100},ie=function(){var e=Object(r.useContext)(te),t=e.state,a=t.loading,c=t.error,o=e.tasks,i=e.handleCompleted,d=e.handleTaskUpdate,p=Object(r.useState)(!1),f=Object(y.a)(p,2),h=f[0],E=f[1],v=Object(r.useState)({title:"",description:"",expTime:"",status:""}),b=Object(y.a)(v,2),g=b[0],j=b[1];console.log(o);var x=Object(r.useState)([]),O=Object(y.a)(x,2),k=O[0],C=O[1],w=Object(r.useState)(),L=Object(y.a)(w,2),V=L[0],$=L[1],q={fontStyle:"italic",textDecoration:"line-through",opacity:.5},K=function(e,t){return function(a){j(Object(S.a)({},t,Object(D.a)({},e,a.target.value)))}},Q=function(e){var t=Object(T.a)(k).filter((function(t){return t!==e}));C(t)},R=new Date;return l.a.createElement(l.a.Fragment,null,a?l.a.createElement("div",{style:oe},console.log("loading"),l.a.createElement(J.a,null)):null,c?l.a.createElement(_.a,{variant:"h2",color:"error"},c):l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,null,o.map((function(e){return l.a.createElement(u.a,{key:e._id},l.a.createElement(z.a,{style:{width:"100%"}},l.a.createElement(F.a,null,k.includes(e._id)?l.a.createElement("div",{style:{flexGrow:1}},l.a.createElement(P.a,{name:"title",variant:"outlined",type:"text",size:"small",placeholder:"Add title",onChange:K("title",e),onFocus:K("title",e),defaultValue:e.title,autoFocus:!0})):l.a.createElement(_.a,{variant:"h6",style:e.status?Object(S.a)({},q,{flexGrow:1,paddingTop:7,textTransform:"capitalize"}):{flexGrow:1,paddingTop:7,textTransform:"capitalize"}},e.title),l.a.createElement(W.a,{"aria-label":"Task Status",onChange:function(t){return i(e)},control:l.a.createElement(I.a,{color:"primary",checked:e.status,onChange:function(t){return i(e._id,g)}})}),l.a.createElement(m.a,{onClick:function(t){n=e._id,E(!0)}},l.a.createElement(M.a,{color:"secondary"}))),l.a.createElement(H.a,null,k.includes(e._id)?l.a.createElement(B.a,{container:!0,justify:"flex-end"},l.a.createElement(P.a,{name:"description",type:"text",variant:"outlined",size:"small",placeholder:"Description",onChange:K("description",e),fullWidth:!0,multiline:!0,rows:"4",defaultValue:e.description})):l.a.createElement(_.a,{variant:"subtitle2",color:"textSecondary",align:"center",component:"p",style:{width:"100%"}},e.description)),l.a.createElement(A.a,null,l.a.createElement("div",{style:{marginLeft:20,flexGrow:1}},k.includes(e._id)?l.a.createElement(le.a,{utils:re.a},l.a.createElement(ce.a,{variant:"inline",value:V,onChange:$,onBlur:function(t){return j(Object(S.a)({},e,{expTime:V}))},onError:console.log,placeholder:"Date and Time of activity"})):l.a.createElement(_.a,{variant:"caption",color:e.status?"textSecondary":"primary",component:"small",style:{fontWeight:"bolder"}},new Date(e.expTime).getDate()===R.getDate()?function(e){var t=e.toLocaleTimeString().split(":"),a=t[2].split(" ")[1];return t.pop(),"".concat(t.join(":")," ").concat(a)}(new Date(e.expTime)):new Date(e.expTime).toDateString())),k.includes(e._id)?l.a.createElement("div",{style:{marginTop:15}},l.a.createElement(U.a,{color:"primary",onClick:function(t){return Q(e._id)}},"Close"),l.a.createElement(U.a,{variant:"contained",color:"primary",onClick:function(t){d(e._id,g),Q(e._id)}},"Done")):l.a.createElement(G.a,{size:"small",color:"primary",style:{margin:15},disabled:e.status,onClick:function(t){return function(e){$(e.expTime),C([].concat(Object(T.a)(k),[e._id]))}(e)}},l.a.createElement(N.a,{fontSize:"small"})))))}))),l.a.createElement(ne,{open:h,handleClose:function(){return E(!1)},task_id:n})))},se=a(96),ue=a.n(se),me=a(198),de=function(e){var t=e.date,a=e.handleDateTimeChange;return l.a.createElement(le.a,{utils:re.a},l.a.createElement(B.a,{container:!0,justify:"space-around"},l.a.createElement(ce.a,{variant:"inline",value:t,onChange:a,onError:console.log,disablePast:!0,placeholder:"Date and Time of activity",format:"dd/mm/yyyy HH:mm"})))},pe=function(e){var t=e.open,a=e.handleClose,n=Object(r.useContext)(te).addTask,c=Object(r.useState)({title:"",expTime:new Date((new Date).toISOString()),description:"",status:!1}),o=Object(y.a)(c,2),i=o[0],s=o[1],u=function(e){return function(t){return s(Object(S.a)({},i,Object(D.a)({},e,t.target.value)))}};return l.a.createElement($.a,{open:t,onClose:a},l.a.createElement(me.a,null,"Create a new activity"),l.a.createElement(q.a,null,l.a.createElement(B.a,{container:!0,component:"form",spacing:2},l.a.createElement(B.a,{item:!0,xs:12},l.a.createElement(P.a,{name:"title",type:"text",variant:"outlined",size:"small",placeholder:"Activity Title",value:i.title,onChange:u("title"),fullWidth:!0})),l.a.createElement(B.a,{item:!0,xs:12},l.a.createElement(P.a,{name:"description",type:"text",variant:"outlined",size:"small",placeholder:"Description",value:i.description,onChange:u("description"),fullWidth:!0,multiline:!0,rows:"4"})),l.a.createElement(B.a,{item:!0,xs:!0},l.a.createElement(de,{date:i.expTime,handleDateTimeChange:function(e){return s(Object(S.a)({},i,{expTime:new Date(e).toUTCString()}))}})))),l.a.createElement(Q.a,null,l.a.createElement(U.a,{color:"primary",onClick:a},"Cancel"),l.a.createElement(U.a,{variant:"contained",color:"primary",autoFocus:!0,onClick:function(){n(i),a()},disabled:!i.title||!i.expTime},"Done")))},fe=function(){var e=Object(r.useState)(!1),t=Object(y.a)(e,2),a=t[0],n=t[1];return l.a.createElement("div",{style:{width:"100%",position:"fixed",bottom:"15%",left:"85%"}},l.a.createElement(G.a,{color:"primary",onClick:function(e){return n(!0)}},l.a.createElement(ue.a,null)),l.a.createElement(pe,{open:a,handleClose:function(){return n(!1)}}))},he=a(200),Ee=a(201),ve=a(207),be=a(204),ge=function(){var e=Object(r.useContext)(te),t=e.feedback,a=e.setFeedback;return l.a.createElement(ve.a,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:3e3,onClose:function(e){return a(Object(S.a)({},t,{open:!1}))}},l.a.createElement(be.a,{severity:"success"},t.message))},ye=a(199),je=function(){var e=Object(r.useContext)(O).theme;return l.a.createElement(ye.a,{theme:e},l.a.createElement(he.a,null),l.a.createElement(w,null),l.a.createElement(Ee.a,{maxWidth:"md"},l.a.createElement("br",null),l.a.createElement(_.a,{variant:"h4",align:"center"},"The Todo App"),l.a.createElement("br",null),l.a.createElement(ie,null)),l.a.createElement(fe,null),l.a.createElement(ge,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(k,null,l.a.createElement(ae,null,l.a.createElement(je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[111,1,2]]]);
//# sourceMappingURL=main.a95fe805.chunk.js.map